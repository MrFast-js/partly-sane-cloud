// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model SkyblockPlayer {
  uuid String @id
  updateTime BigInt
  response String @db.LongText
}

model UserAgents {
  id String @id @default(uuid())
  useragent String 
  time Int 
}

model BazaarItemPrice {
  uuid String @id @default(uuid())
  itemId String
  time BigInt
  buyPrice Float
  sellPrice Float
}

model ItemData {
  itemId String @id
  rarity String
  name String
  npcSellPrice Float
  bazaarData ItemBazaarData?
}

model ItemBazaarData {
  item ItemData @relation(fields: [itemId], references: [itemId])
  itemId String @id
  buyPrice Float
  sellPrice Float
  averageBuyPrice Float
  averageSellPrice Float
  history ItemBazaarHistory[]
}

model ItemBazaarHistory {
  bazaarData ItemBazaarData @relation(fields: [itemId], references: [itemId])
  numId Int @id @default(value: autoincrement())
  itemId String
  buyPrice Float
  sellPrice Float
  time DateTime @default(value: now())
}
